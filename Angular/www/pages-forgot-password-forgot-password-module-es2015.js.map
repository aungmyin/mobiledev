{"version":3,"sources":["./src/app/pages/forgot-password/forgot-password.page.html","./src/app/pages/forgot-password/forgot-password-routing.module.ts","./src/app/pages/forgot-password/forgot-password.module.ts","./src/app/pages/forgot-password/forgot-password.page.scss","./src/app/pages/forgot-password/forgot-password.page.ts"],"names":[],"mappings":"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","file":"pages-forgot-password-forgot-password-module-es2015.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\" style=\\\"margin: 10px 5px;\\\">\\r\\n      <ion-back-button defaultHref=\\\"/login\\\" text=\\\"\\\" style=\\\"color: #707070;\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div >\\r\\n    <h2 class=\\\"page-title\\\">Forgot your password?</h2>\\r\\n  </div>\\r\\n  <div class=\\\"form-container\\\">\\r\\n    <form >\\r\\n      <p *ngIf=\\\"dlyuser == 0\\\">\\r\\n        <ion-label class=\\\"login-lable\\\" position=\\\"stacked\\\">Account</ion-label>\\r\\n        <ion-input type=\\\"text\\\" name=\\\"username\\\" class=\\\"input-style\\\" [(ngModel)]=\\\"postData.username\\\"></ion-input>\\r\\n      </p>\\r\\n      <p *ngIf=\\\"dlyuser == 0\\\">\\r\\n        <ion-label class=\\\"login-lable\\\"  position=\\\"stacked\\\">Company</ion-label>\\r\\n        <ion-input type=\\\"text\\\" autocomplete=\\\"off\\\" name=\\\"company\\\" class=\\\"input-style\\\" [(ngModel)]=\\\"postData.company\\\"></ion-input>\\r\\n      </p>\\r\\n\\r\\n      <p *ngIf=\\\"dlyuser == 1\\\">\\r\\n        <ion-label class=\\\"login-lable\\\"  position=\\\"stacked\\\">OTP Code</ion-label>\\r\\n        <ion-input type=\\\"text\\\" autocomplete=\\\"off\\\" name=\\\"company\\\" style=\\\"width: 100% !important; border-bottom: 1px solid #707070;\\\" [(ngModel)]=\\\"postData.reset\\\"></ion-input>\\r\\n      </p>\\r\\n\\r\\n      <p *ngIf=\\\"dlyuser == 2\\\">\\r\\n        <ion-label class=\\\"login-lable\\\"  position=\\\"stacked\\\">New Password</ion-label>\\r\\n        <ion-input type=\\\"password\\\" autocomplete=\\\"off\\\" name=\\\"newPsw\\\" style=\\\"width: 100% !important; border-bottom: 1px solid #707070;\\\" [(ngModel)]=\\\"postData.newPsw\\\"></ion-input>\\r\\n      </p>\\r\\n      <p *ngIf=\\\"dlyuser == 2\\\">\\r\\n        <ion-label class=\\\"login-lable\\\"  position=\\\"stacked\\\">Confirm Password</ion-label>\\r\\n        <ion-input type=\\\"password\\\" autocomplete=\\\"off\\\" name=\\\"confirmPsw\\\" style=\\\"width: 100% !important; border-bottom: 1px solid #707070;\\\" [(ngModel)]=\\\"postData.confirmPsw\\\"></ion-input>\\r\\n      </p>\\r\\n     \\r\\n      <ion-button *ngIf=\\\"dlyuser == 0\\\" expand=\\\"block\\\" class=\\\"btn-style\\\" color=\\\"primary\\\"  (click)=\\\"forgotPasswordAction()\\\" >Send</ion-button>\\r\\n\\r\\n      <ion-button *ngIf=\\\"dlyuser == 1\\\" expand=\\\"block\\\" class=\\\"btn-style\\\" color=\\\"primary\\\"  (click)=\\\"recoverpassAction()\\\" >Send</ion-button>\\r\\n\\r\\n      <ion-button *ngIf=\\\"dlyuser == 2\\\" expand=\\\"block\\\" class=\\\"btn-style\\\" color=\\\"primary\\\"  (click)=\\\"changepassAction()\\\" >Send</ion-button>\\r\\n    </form>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ForgotPasswordPage } from './forgot-password.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ForgotPasswordPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ForgotPasswordPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ForgotPasswordPageRoutingModule } from './forgot-password-routing.module';\r\n\r\nimport { ForgotPasswordPage } from './forgot-password.page';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ForgotPasswordPageRoutingModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [ForgotPasswordPage]\r\n})\r\nexport class ForgotPasswordPageModule {}\r\n","export default \".form-container {\\n  margin: 35px 20px 20px;\\n}\\n\\n.login-lable {\\n  font-size: 1rem;\\n  color: #3bc4c1;\\n  text-transform: uppercase;\\n}\\n\\n.page-title {\\n  color: #707070;\\n  margin: 40px 20px;\\n  font-weight: bold;\\n}\\n\\n.btn-style {\\n  margin-top: 50px;\\n  font-size: 20px;\\n}\\n\\n.marginlfmn15 {\\n  margin-left: 0px;\\n}\\n\\n.input-style {\\n  width: 100% !important;\\n  border-bottom: 1px solid #d8d8d8;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZm9yZ290LXBhc3N3b3JkL0Q6XFxQaG9lbml4XFxkZXZtb2JpbGVcXEFuZ3VsYXIvc3JjXFxhcHBcXHBhZ2VzXFxmb3Jnb3QtcGFzc3dvcmRcXGZvcmdvdC1wYXNzd29yZC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2ZvcmdvdC1wYXNzd29yZC9mb3Jnb3QtcGFzc3dvcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksc0JBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7RUFDQSxjQUFBO0VBQ0EseUJBQUE7QUNDSjs7QURFQTtFQUNJLGNBQUE7RUFBZ0IsaUJBQUE7RUFBbUIsaUJBQUE7QUNHdkM7O0FEQUE7RUFDSSxnQkFBQTtFQUFrQixlQUFBO0FDSXRCOztBRERBO0VBQ0ksZ0JBQUE7QUNJSjs7QURGQTtFQUNJLHNCQUFBO0VBQXdCLGdDQUFBO0FDTTVCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZm9yZ290LXBhc3N3b3JkL2ZvcmdvdC1wYXNzd29yZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1jb250YWluZXIge1xyXG4gICAgbWFyZ2luOiAzNXB4IDIwcHggMjBweDtcclxufVxyXG5cclxuLmxvZ2luLWxhYmxle1xyXG4gICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgY29sb3I6ICMzYmM0YzE7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG59XHJcblxyXG4ucGFnZS10aXRsZSB7XHJcbiAgICBjb2xvcjogIzcwNzA3MDsgbWFyZ2luOiA0MHB4IDIwcHg7IGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4uYnRuLXN0eWxlIHtcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7IGZvbnQtc2l6ZTogMjBweDtcclxufVxyXG5cclxuLm1hcmdpbmxmbW4xNXtcclxuICAgIG1hcmdpbi1sZWZ0OiAwcHg7XHJcbn1cclxuLmlucHV0LXN0eWxle1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkOGQ4ZDg7XHJcbn0iLCIuZm9ybS1jb250YWluZXIge1xuICBtYXJnaW46IDM1cHggMjBweCAyMHB4O1xufVxuXG4ubG9naW4tbGFibGUge1xuICBmb250LXNpemU6IDFyZW07XG4gIGNvbG9yOiAjM2JjNGMxO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG4ucGFnZS10aXRsZSB7XG4gIGNvbG9yOiAjNzA3MDcwO1xuICBtYXJnaW46IDQwcHggMjBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5idG4tc3R5bGUge1xuICBtYXJnaW4tdG9wOiA1MHB4O1xuICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5tYXJnaW5sZm1uMTUge1xuICBtYXJnaW4tbGVmdDogMHB4O1xufVxuXG4uaW5wdXQtc3R5bGUge1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2Q4ZDhkODtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { MenuController, ToastController } from '@ionic/angular';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password',\r\n  templateUrl: './forgot-password.page.html',\r\n  styleUrls: ['./forgot-password.page.scss'],\r\n})\r\nexport class ForgotPasswordPage implements OnInit {\r\n\r\n  postData = {\r\n    username: '',\r\n    company: '',\r\n    token: '',\r\n    rediRectUrl: '',\r\n    reset: '',\r\n    newPsw: '',\r\n    confirmPsw: ''\r\n  }\r\n\r\n  activeMenu: String;\r\n  dlyuser: any = 0;\r\n\r\n  constructor(private menu: MenuController, private authoService: AuthService, private toastService: ToastService) { }\r\n\r\n  ngOnInit() {\r\n    /* this.authoService.userData$.subscribe( (res: any) => {\r\n      console.log(res);\r\n     this.dlyuser = res;\r\n    }); */\r\n  }\r\n\r\n  menuActive() {\r\n    this.activeMenu = \"first\";\r\n    this.menu.enable(false, \"first\");\r\n  }\r\n\r\n  validateInputs() {\r\n    let username = this.postData.username.trim();\r\n    let company = this.postData.company.trim();\r\n\r\n    return (\r\n      username &&\r\n      company &&\r\n      username.length > 0 &&\r\n      company.length > 0 \r\n    );\r\n  }\r\n\r\n  forgotPasswordAction(){\r\n    if(this.validateInputs()) {\r\n      console.log(this.postData);\r\n      this.authoService.forgotpassword( this.postData ).subscribe( (res: any) => {\r\n        console.log(res);\r\n        if(res.status == 1) {\r\n          this.toastService.presentToast(\"We have benn sent reset url in your mail.\");\r\n          \r\n          this.postData.rediRectUrl = res.redirectURL;\r\n          this.postData.token = this.postData.rediRectUrl.replace(\"/recoverpass/reset?code=\", \"\");\r\n          this.dlyuser = 1;\r\n\r\n        } else if(res.error) {\r\n            this.toastService.presentToast(res.error);\r\n        }\r\n      } );\r\n\r\n    } else {\r\n      this.toastService.presentToast(\"Invalid entry\");\r\n    }\r\n  }\r\n\r\n  recoverpassAction() {\r\n    console.log(this.postData, \"rever OTP\")\r\n    this.authoService.recoverpass(this.postData).subscribe( (res: any) => {\r\n      console.log(res, \"revoerPass\");\r\n      if(res.status == 1) {\r\n        this.dlyuser = 2;\r\n      } else {\r\n        this.toastService.presentToast(\"invalid OTP, Please try again!\");\r\n      }\r\n    } );\r\n  }\r\n\r\n  changepassAction() {\r\n    console.log(this.postData, \"change psw\")\r\n    this.authoService.changepass(this.postData).subscribe( (res:any) => {\r\n      console.log(res, \"change psw2\")\r\n\r\n      this.dlyuser = 0;\r\n      this.postData.username = '';\r\n      this.postData.company = '';\r\n      this.postData.token = '';\r\n      this.postData.rediRectUrl = '';\r\n      this.postData.reset = '';\r\n      this.postData.newPsw = '';\r\n      this.postData.confirmPsw = '';\r\n      if(res.status == 1) {\r\n        window.location.replace('/login');\r\n      } else {\r\n        this.toastService.presentToast(\"Soemthing was wrong.\");\r\n      }\r\n    });\r\n\r\n    \r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}